{% extends 'base.html.twig' %}

{% block title %}Hello HabitController!{% endblock %}

{% block body %}

{# {% for f in form.vars.data %}
    {{ f }}
{% endfor %} #}
<form method="post" action="{{ path('app_tracking_habit') }}">
    {% for h in habits %}
        <div>
            <label>
            {% if not h.isDeleted %}
                {{ h.habit.name ?? h.ownHabit.name }}
                <input type="checkbox" name="habits[]" value="{{ h.id }}"
                {% for t in tracked %}
                {# <pre>
                    {{ dump(t) }}
                </pre> #}
                    {% if t.selectedHabits and t.selectedHabits.id == h.id and not t.selectedHabits.isDeleted and not t.isDeleted %}
                        checked
                    {% endif %}
                {% endfor %}
                >
            {% endif %}
            </label>
        </div>
    {% endfor %}
    <button type="submit">Zapisz</button>
</form>

<a href="{{ path('app_select_habit') }}"><button>Wybierz nawyki</button></a>
<a href="{{ path('app_new_habit') }}"><button>Stwórz nowy nawyk</button></a>
<a href="{{ path('app_habit_remove') }}"><button>Usuń nawyk</button></a>

{% endblock %}
